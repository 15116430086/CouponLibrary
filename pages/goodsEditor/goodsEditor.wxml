<!-- 普通商品 -->
<view class="mes-block">
  <view class="ticket-box">
    <view class="ticket-block">
      <view class="ticket-name">商品类别</view>
      <view class="v-boxs">
        <view class="v-block {{idb==item.Item_id?'selected':''}}" wx:for="{{threeList}}" wx:key="" bindtap='selectThree' data-id="{{item.Item_id}}">
          {{item.Item_Name}}
          <image src="/static/images/cha.png" wx:if="{{idb==item.Item_id}}" />
        </view>
      </view>
      <!-- <input type="text" value="20元现金抵用券" /> -->
    </view>
    <view class="ticket-block">
      <view class="ticket-name">所属栏目(必填)</view>
      <input type="text" value="{{categoryName}}" disabled="true" placeholder="选择所属栏目" bindtap="showPopup2" />
    </view>
    <view class="ticket-block">
      <view class="ticket-name">商品名称</view>
      <input type="text" bindinput="ProductNameInput" value="{{productName}}" placeholder="请输入商品名称" />
    </view>
    <!-- 添加券面图片 -->
    <view class="addImg">
      <view class="ticket-flex">
        <view class="ticket-name">商品主图</view>
        <view class="ticket-name">1/3</view>
      </view>
      <view class="addImg-box">
        <block wx:for="{{mainImage}}" wx:for-index="index" wx:key="*this">
          <view class="addbox-left">
            <image src="/static/images/cha.png" class="abox-cha" />
            <image data-index="{{index}}" bindtap="onUpImageTap" src="{{item}}" class="addImg-box-image" />
          </view>
        </block>
        <image src="/static/images/img-1.png" style="width:244rpx;height:84rpx;margin-left:40rpx" />
      </view>
    </view>
    <view>
      <view class="ticket-block" style="border:none;">
        <view class="tb-topp">
          <image src="/static/images/jia1.png" class="abox-chaa" bindtap="onAddSpecificationsTap" />
          <view class="ticket-flex" bindtap="showPopup">
            <view class="ticket-name">规格属性(定义)</view>
            <image src="/static/images/right-arr1.png" class="ticket-flex-image" />
          </view>
        </view>
<block wx:for="{{ProductSpecifications}}" wx:for-index="index" wx:key="index" >
        <view class="input-box">
          <view class="input-block" style="border:none;margin-top:10rpx;">
            价格
            <input type="digit" data-index="{{index}}" bindinput="SalePriceInput" value="{{item.SalePrice}}" placeholder="(请输入)" placeholder-class="ip" />
          </view>
          <view class="input-block" style=" {{item.Attrivute.length>0?'border:none;':''}} margin-top:10rpx;">
            库存
            <input type="digit" data-index="{{index}}"  bindinput="CourierNumberInput" value="{{item.StockNum}}" placeholder="(请输入)" placeholder-class="ip" />
          </view>
          <block wx:for="{{item.Attrivute}}" wx:for-index="cindex" wx:key="cindex">
            <view class="input-block" style="{{cindex==0 && item.Attrivute.length>0?'border:none;':''}} margin-top:10rpx;">
            {{item.AttributeName}}
            <input type="text" data-index="{{index}}" data-cindex="{{cindex}}"  bindinput="AttributeInput" value="{{item.AttrivuteValue}}" placeholder="(请输入)" placeholder-class="ip" />
          </view>
          </block>
        </view>
</block>
      </view>
      <view class="ticket-block">
        <view class="ticket-name">运费(选填)</view>
        <input type="text" bindinput="PostageInput" name="Postage" value="{{postage}}" placeholder="快递费" />
      </view>
      <!-- 添加券面图片 -->
      <view class="addImg">
        <view class="ticket-flex">
          <view class="ticket-name">商品描述</view>
          <view class="ticket-name">1/5</view>
        </view>
        <view class="addImg-box">
          <view class="addbox-left">
            <image src="/static/images/cha.png" class="abox-cha" />
            <image src="/static/images/img.png" class="addImg-box-image" />
          </view>
          <image src="/static/images/img-1.png" style="width:244rpx;height:84rpx;margin-left:40rpx" />
        </view>
        <!-- <view class="addImg-box">
          <image src="/static/images/img.png" />
          <image src="/static/images/img-1.png" style="width:244rpx;height:84rpx;margin-left:40rpx" />
        </view> -->
      </view>
    </view>
    <view class="ticket-block" wx:if="{{ type==1 }}">
      <view class="ticket-name">附加信息</view>
      <view class="ticket-flex">
        <view class="tf-name">
          <text>在线办理需要填写的自定义内容,如：姓名、手机等</text>
        </view>
        <image src="/static/images/right-arr1.png" />
      </view>
      <!-- <input type="text" value="20元现金抵用券" /> -->
    </view>
  </view>
</view>
<view class="playBtn" bindtap="ReleaseProduct">发布商品</view>
<!-- 商品类目 -->
<van-popup show="{{show2}}" bind:close="onClose" position="bottom" close-on-click-overlay overlay safe-area-inset-bottom>
  <van-picker show-toolbar columns="{{columns}}" bind:cancel="onCancel" bind:confirm="onConfirm" />
</van-popup>
<!-- <view class="mask" hover-stop-propagation='true' wx:if="{{show}}">
    <view class="mask-page">
        <view class="mask-box">
            <view class="mb-title">
                规格选择
                <text>(最多可再选择3项)</text>
            </view>
            <view class="mb-down" catchtap="onClose">完成</view>
        </view>
    </view>
</view> -->
<van-popup show="{{ show }}" position="bottom" custom-style="height: auto;" bind:close="onClose">
  <view class="mask-box">
    <view class="mb-title">
      规格选择
      <text>(最多可再选择2项)</text>
    </view>
    <view class="mb-down" catchtap="onEnter">完成</view>
  </view>
  <view class="v-flex">
    <view class="vb-span">价格</view>
    <view class="vb-span">库存</view>
    <block wx:for="{{SpecificationsAttribute}}" wx:for-index="index" wx:key="AttributeID">
      <view class="vb-span {{item.IsChecked==1?'vb-Checked':''}}" data-id="{{index}}" bindtap="onChecldeTap" >{{item.AttributeName}}</view>
    </block>
  </view>
</van-popup>